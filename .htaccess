#RewriteEngine On
#RewriteBase /
#RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
#RewriteRule ^ %1 [R=301,L]
#RewriteCond %{REQUEST_FILENAME} !-d
#RewriteCond %{REQUEST_FILENAME}.php -f
#RewriteRule ^(.*?)/?$ $1.php [NC,L]

<IfModule mod_rewrite.c>
    Options +FollowSymlinks
    Options +Indexes
    RewriteEngine on
    # if your app is in a subfolder:
    RewriteBase /api/
    
    # test string is a valid files
    RewriteCond %{SCRIPT_FILENAME} !-f
    # test string is a valid directory
    RewriteCond %{SCRIPT_FILENAME} !-d
    
    RewriteRule ^(.*)$   index.php?uri=/$1    [NC,L,QSA]
    # with QSA flag (query string append),
    # forces the rewrite engine to append a query string part of the
    # substitution string to the existing string, instead of replacing it.
</IfModule>